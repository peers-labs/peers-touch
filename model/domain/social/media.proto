syntax = "proto3";

package peers_touch.model.social.v1;

import "google/protobuf/timestamp.proto";

option go_package = "github.com/peers-labs/peers-touch/station/frame/touch/model;model";

message UploadMediaRequest {
  bytes data = 1;
  string filename = 2;
  string mime_type = 3;
  MediaUploadType type = 4;
  optional string alt_text = 5;
}

message UploadMediaResponse {
  string media_id = 1;
  string url = 2;
  string thumbnail_url = 3;
  int64 size_bytes = 4;
  int32 width = 5;
  int32 height = 6;
  int32 duration_seconds = 7;
  MediaProcessingStatus status = 8;
}

enum MediaUploadType {
  MEDIA_IMAGE = 0;
  MEDIA_VIDEO = 1;
  MEDIA_AUDIO = 2;
}

enum MediaProcessingStatus {
  PENDING = 0;
  PROCESSING = 1;
  READY = 2;
  FAILED = 3;
}

message GetMediaRequest {
  string media_id = 1;
}

message GetMediaResponse {
  string media_id = 1;
  string url = 2;
  string thumbnail_url = 3;
  int64 size_bytes = 4;
  int32 width = 5;
  int32 height = 6;
  MediaProcessingStatus status = 7;
  google.protobuf.Timestamp created_at = 8;
}

message DeleteMediaRequest {
  string media_id = 1;
}

message DeleteMediaResponse {
  bool success = 1;
}
